apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: portal-ingress
  namespace: nginx
  annotations:
    kubernetes.io/ingress.class: nginx
    # í¬íƒˆ nginxê°€ ê·¸ëƒ¥ / ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•œë‹¤ë©´ rewrite ë¶ˆí•„ìš”
    # ë§Œì•½ /portalì„ /ë¡œ ì˜ë¼ì„œ ë„˜ê¸°ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ:
    nginx.ingress.kubernetes.io/rewrite-target: / # ì•ˆí•˜ë©´ 404 ë°œìƒ
spec:
  ingressClassName: nginx
  rules:
    - host: apps.168.107.11.85.nip.io
      http:
        paths:
          - path: /portal
            pathType: Prefix
            backend:
              service:
                name: nginx-service   # ğŸ‘ˆ ì§€ê¸ˆ ìˆëŠ” NodePort ì„œë¹„ìŠ¤ ì´ë¦„
                port:
                  number: 80          # ğŸ‘ˆ service port (NodePort ì•„ë‹˜!)
